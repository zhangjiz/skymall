<div class="layui-form" lay-filter="orderDetails-form" id="orderDetails-form" style="padding: 20px 30px 0 0;">
    <div class="layui-form-item">
        <label class="layui-form-label">产品介绍图片</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="pic" value="{{ d.params.pic || '' }}" lay-verify="required" placeholder="请输入产品介绍图片" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">订货价</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="orderPrice" value="{{ d.params.orderPrice || '' }}" lay-verify="required" placeholder="请输入订货价" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">购买单位（1:一件；2:五件；3:十件）</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="buyer" value="{{ d.params.buyer || '' }}" lay-verify="required" placeholder="请输入购买单位（1:一件；2:五件；3:十件）" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">购买数量</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="amount" value="{{ d.params.amount || '' }}" lay-verify="required" placeholder="请输入购买数量" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">预付款</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="advancePrice" value="{{ d.params.advancePrice || '' }}" lay-verify="required" placeholder="请输入预付款" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">单位差价</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="priceSpread" value="{{ d.params.priceSpread || '' }}" lay-verify="required" placeholder="请输入单位差价" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">预定货物手续费</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="bookingCharges" value="{{ d.params.bookingCharges || '' }}" lay-verify="required" placeholder="请输入预定货物手续费" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">仓库隔夜费</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="overnightStorageCharge" value="{{ d.params.overnightStorageCharge || '' }}" lay-verify="required" placeholder="请输入仓库隔夜费" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">商品详情</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="commodityDetails" value="{{ d.params.commodityDetails || '' }}" lay-verify="required" placeholder="请输入商品详情" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <script type="text/html" template>
        <input type="hidden" name="id" value="{{ d.params.id|| '' }}">
    </script>
    <div class="layui-form-item">
        <label class="layui-form-label"></label>
        <div class="layui-input-inline">
            <input type="button" lay-submit lay-filter="orderDetails-form-submit" value="确认" class="layui-btn">
        </div>
    </div>
</div>
<script>
    layui.use([ 'admin', 'form', 'upload' ], function() {
        var $ = layui.$, form = layui.form, upload = layui.upload;

        form.render();//使select可以显示option
        //-------------文件上传开始----------
        upload.render({
            elem : '#orderDetails-upload-orderDetails',
            url : '/order/details/upload',
            before: function(obj){
                //预读本地文件示例，不支持ie8
                obj.preview(function(index, file, result){
                    $('#demo1').attr('src', result); //图片链接（base64）
                });
            },
            done : function(res) {
                //如果上传失败
                if (res.code > 0) {
                    return layer.msg('上传失败');
                }
                //上传成功
                console.log(res.data.src);
                document.getElementById("img_url").value = res.data.src;//
            }
        });
        //-------------文件上传结束----------
    })
</script>
