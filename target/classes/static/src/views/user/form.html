<div class="layui-form" lay-filter="user-form" id="user-form" style="padding: 20px 30px 0 0;">
    <div class="layui-form-item">
        <label class="layui-form-label">昵称</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="nickname" value="{{ d.params.nickname || '' }}" lay-verify="required" placeholder="请输入昵称" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">手机号</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="phone" value="{{ d.params.phone || '' }}" lay-verify="required" placeholder="请输入手机号" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">登录密码</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="loginPwd" value="{{ d.params.loginPwd || '' }}" lay-verify="required" placeholder="请输入登录密码" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">支付密码</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="payPwd" value="{{ d.params.payPwd || '' }}" lay-verify="required" placeholder="请输入支付密码" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">账户余额</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="money" value="{{ d.params.money || '' }}" lay-verify="required" placeholder="请输入账户余额" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">签到红包余额</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="signMoney" value="{{ d.params.signMoney || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">本月总签到天数</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="countNumber" value="{{ d.params.countNumber || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">本月连续签到天数</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="countDay" value="{{ d.params.countDay || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">本月连续签到最多天数</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="continuousMax" value="{{ d.params.continuousMax || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">本月签到红包总数</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="countMoney" value="{{ d.params.countMoney || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">本月签到红包总数</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="countMoney" value="{{ d.params.countMoney || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">游戏次数</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="gamesNum" value="{{ d.params.gamesNum || '' }}" placeholder="请输入" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">备注</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <input type="text" name="remark" value="{{ d.params.remark || '' }}" placeholder="请输入备注" autocomplete="off" class="layui-input">
            </script>
        </div>
    </div>
    <script type="text/html" template>
        <input type="hidden" name="id" value="{{ d.params.id|| '' }}">
    </script>
    <div class="layui-form-item">
        <label class="layui-form-label">头像</label>
        <div class="layui-input-inline">
            <script type="text/html" template>
                <img class="layui-upload-img" id="demo1" src="{{ d.params.img || '' }}"/>
                <input type="text" name="img" value="{{ d.params.img || '' }}" lay-verify="required"
                       placeholder="请上传图片" autocomplete="off" class="layui-input" id="img_url" disabled="true ">
            </script>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label"></label>
        <div class="layui-input-inline">
            <button style="float: left;" type="button" class="layui-btn" id="user-upload-user">上传图片</button>
            <input type="button" lay-submit lay-filter="user-form-submit" value="确认" class="layui-btn">
        </div>
    </div>
</div>
<script>
    layui.use([ 'admin', 'form', 'upload' ], function() {
        var $ = layui.$, form = layui.form, upload = layui.upload;

        form.render();//使select可以显示option
        //-------------文件上传开始----------
        upload.render({
            elem : '#user-upload-user',
            url : '/user/upload',
            before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#demo1').attr('src', result); //图片链接（base64）
                });
            },
            done : function(res) {
                //如果上传失败
                if (res.code > 0) {
                    return layer.msg('上传失败');
                }
                //上传成功
                console.log(res.data.src);
                document.getElementById("img_url").value = res.data.src;//
            }
        });
        //-------------文件上传结束----------
    })
</script>
